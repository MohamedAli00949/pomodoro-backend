"use strict";(self.webpackChunkpomodoro_=self.webpackChunkpomodoro_||[]).push([[957],{5957:function(e,t,n){n.r(t),n.d(t,{default:function(){return y}});var a=n(4942),s=n(1413),r=n(885),l=n(2791),i=n(5880),o=n(8820),c=n(7376),d=n(5212),u=n(184);var m=function(e){var t=e.activeStep,n=e.handleCancelOrPrev,a=e.handleNextButton,s=e.disableNextOrSubmit;return(0,u.jsxs)("div",{className:"form-footer",children:[(0,u.jsx)("button",{"aria-label":"cancel form button",type:"button",onClick:n,children:0===t?"cancel":"previous"}),3===t?(0,u.jsx)("button",{"aria-label":"next/submit form button",type:"submit",className:"save",disabled:s(),children:"save"}):(0,u.jsx)("button",{"aria-label":"next/submit form button",type:"button",onClick:a,className:"save",disabled:s(),children:"next"})]})},x=n(9434),h=n(4065),f=n(6409),v=(0,l.lazy)((function(){return n.e(45).then(n.bind(n,3045))})),b=(0,l.lazy)((function(){return n.e(98).then(n.bind(n,98))})),j=(0,l.lazy)((function(){return n.e(79).then(n.bind(n,79))})),p=(0,l.lazy)((function(){return n.e(175).then(n.bind(n,3175))})),g=(0,l.lazy)((function(){return n.e(25).then(n.bind(n,6025))})),k=(0,l.lazy)((function(){return Promise.all([n.e(355),n.e(653)]).then(n.bind(n,3653))})),N={name:"",desc:"",tasks:[],time:{PERIOD:1500,SHORT:300,LONG:900},autoBreaks:!1,autoPomodors:!1,autoStartNextTask:!1,longInterval:4,alarmType:{name:"alarm 1",src:"sounds/alarm/1.mp3"},alarmVolume:50,alarmRepet:0,tickingType:{name:"tricking 1",src:"sounds/tricking/1.mp3"},tickingVolume:50};var y=function(e){var t,n,y,S=e.oldData,Z=e.isLoading,O=e.setIsLoading,C=e.setOpen,I=(0,x.I0)(),z=(0,x.v9)((function(e){return e.timer})),P=z.active,w=z.activites,D=(0,l.useState)(0),E=(0,r.Z)(D,2),L=E[0],B=E[1],F=(0,l.useState)(null===S?N:S),T=(0,r.Z)(F,2),W=T[0],_=T[1],R=(0,l.useState)({message:"",type:""}),H=(0,r.Z)(R,2),M=H[0],V=H[1],G=[{text:"info",Icon:function(){return(0,u.jsx)(o.US6,{})}},{text:"todo",Icon:function(){return(0,u.jsx)(v,{})}},{text:"timer",Icon:function(){return(0,u.jsx)(i.kdH,{})}},{text:"sound",Icon:function(){return(0,u.jsx)(o.dfw,{})}}],K=function(){0===L?C(!1):B((function(e){return e-1}))},U=function(e){console.log("next"),L<3&&B((function(e){return++e}))},q=function(e){_((0,s.Z)((0,s.Z)({},W),{},(0,a.Z)({},e.target.name,e.target.value)))},A=function(){var e;switch(L){case 0:return!W.name||!W.desc;case 1:return 0===(null===(e=W.tasks)||void 0===e?void 0:e.length);case 2:return Object.values(W.time).includes(0);case 3:return 0===W.longInterval;default:return!1}};return(0,u.jsxs)(u.Fragment,{children:[M.message&&!M.message.includes("Network Error")?(0,u.jsx)(c.Z,(0,s.Z)((0,s.Z)({},M),{},{setMessage:V})):M.message.includes("Network Error")&&(0,u.jsx)(d.Z,{}),(0,u.jsx)("div",{className:"glass-container",children:(0,u.jsxs)("div",{className:"glass-effect temp-form",children:[(0,u.jsxs)("div",{className:"form-header",children:[(0,u.jsx)("h2",{children:S?"edit template":"new template"}),(0,u.jsx)("button",{"aria-label":"close template form",className:"close-temp-form",type:"button",onClick:function(){return C(!1)},children:(0,u.jsx)(i.Fk5,{})})]}),(0,u.jsx)("div",{className:"steps",children:G.map((function(e,t){return(0,u.jsxs)("div",{className:"step ".concat(t===L?"active":t<L&&"completed"),children:[(0,u.jsx)("div",{className:"icon",children:(0,u.jsx)(e.Icon,{})}),(0,u.jsx)("p",{className:"text",children:e.text}),3!==t&&(0,u.jsx)("div",{className:"line"})]},t)}))}),3===L?(0,u.jsx)("form",{onSubmit:function(e){e.preventDefault(),W.name?W.desc?0===W.tasks.length?V("Empty todo list"):Object.values(W.time).includes(0)?V({message:"Please enter valid time data",type:"error"}):W.longInterval?S?S!==W&&I((0,h.Kg)(W._id,(0,s.Z)((0,s.Z)({},W),{},{tasks:W.tasks.map((function(e){return e._id}))}),O,B,V)):I((0,h.WF)(W,O,B,V)):V({message:"Please enter long break interval",type:"error"}):V("Empty desc"):V("Empty name")},children:(0,u.jsx)("div",{className:"form-middle",children:(0,u.jsxs)(l.Suspense,{fallback:(0,u.jsx)(f.Z,{size:"100",strokeWidth:"4",backgroud:"#e7e7e7",color:null===(t=w[P])||void 0===t?void 0:t.color}),children:[(0,u.jsx)(g,{data:W,setData:_,handleChange:q}),(0,u.jsx)(m,{disableNextOrSubmit:A,handleCancelOrPrev:K,handleNextButton:U,activeStep:L})]})})}):L<3?(0,u.jsxs)("div",{className:"form-middle",children:[(0,u.jsx)(l.Suspense,{fallback:(0,u.jsx)(f.Z,{size:"100",strokeWidth:"4",backgroud:"#e7e7e7",color:null===(n=w[P])||void 0===n?void 0:n.color}),children:0===L?(0,u.jsx)(b,{data:W,setData:_,handleChange:q}):1===L?(0,u.jsx)(j,{data:W,setData:_,handleChange:q,message:M,setMessage:V}):(0,u.jsx)(p,{data:W,setData:_,handleChange:q})}),(0,u.jsx)(m,{disableNextOrSubmit:A,handleCancelOrPrev:K,handleNextButton:U,activeStep:L})]}):(0,u.jsx)(u.Fragment,{children:(0,u.jsx)(l.Suspense,{fallback:(0,u.jsx)(f.Z,{size:"100",strokeWidth:"4",backgroud:"#e7e7e7",color:null===(y=w[P])||void 0===y?void 0:y.color}),children:(0,u.jsx)(k,{data:W,setIsLoading:O,isLoading:Z,setOpen:C})})})]})})]})}}}]);
//# sourceMappingURL=957.0ba6ab8d.chunk.js.map