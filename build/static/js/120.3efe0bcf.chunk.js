"use strict";(self.webpackChunkpomodoro_=self.webpackChunkpomodoro_||[]).push([[120],{120:function(e,n,t){t.r(n),t.d(n,{default:function(){return f}});var a=t(885),s=t(2791),l=t(8820),i=t(3853),o=t(6053),r=t(6856),c=t(1087),u=t(9434),d=t(456),h=t(374),m=t(6409),x=t(184),g=(0,s.lazy)((function(){return t.e(45).then(t.bind(t,3045))})),f=function(e){var n=e.setMessage,t=(0,s.useState)(!1),f=(0,a.Z)(t,2),j=f[0],v=f[1],b=(0,s.useState)(!1),p=(0,a.Z)(b,2),k=p[0],y=p[1],N=(0,u.v9)((function(e){return e.timer})).started,w=(0,u.v9)((function(e){return e.auth})).user,C=(0,u.I0)();(0,s.useEffect)((function(){if(localStorage.getItem("token")&&void 0===w){C((0,h.is)(n));var e=(1e3*(0,d.Z)(localStorage.getItem("token")).exp-(new Date).getTime())/36e5;localStorage.getItem("token")&&e<24&&C((0,h.g$)(n))}}),[]),(0,s.useEffect)((function(){if(void 0!==w){var e=(0,d.Z)(localStorage.getItem("token"));1e3*e.exp<(new Date).getTime()&&(C({type:h.Nv}),console.log(1e3*e.ext-(new Date).getTime()))}}),[w]);var L=(0,s.useCallback)((function(){document.body.style.overflow=j?"auto":"hidden",v((function(e){return!e}))}),[j]);return(0,x.jsxs)(x.Fragment,{children:[k&&(0,x.jsx)("div",{className:"glass-container",children:(0,x.jsxs)("div",{className:"glass-effect delete-popup",children:[(0,x.jsx)("h4",{children:"Do you sure you want to delete your account ?"}),(0,x.jsxs)("div",{className:"buttons",children:[(0,x.jsx)("button",{"aria-label":"cancel deleteing account",onClick:function(){return y(!1)},className:"cancel",children:"cancel"}),(0,x.jsx)("button",{"aria-label":"ok deleteing account",onClick:function(){y(!1),C((0,h.h8)(n))},className:"ok",children:"ok"})]})]})}),(0,x.jsxs)("nav",{className:"nav-bar",children:[(0,x.jsx)(c.rU,{to:"/",children:(0,x.jsx)("h1",{children:"Entagk"})}),(0,x.jsxs)("div",{style:{position:"relative"},children:[localStorage.getItem("token")?w?(0,x.jsxs)("button",{"aria-label":"user button",className:"user",onClick:function(){return v((function(e){return!e}))},style:{boxShadow:j&&"inset 0 0 5px #6f6f6f"},children:[(0,x.jsx)("div",{className:"user-logo ".concat((null===w||void 0===w?void 0:w.avatar)&&"img"),children:null!==w&&void 0!==w&&w.avatar?(0,x.jsx)("img",{src:w.avatar,alt:"avatar",width:"",height:""}):(0,x.jsx)(l.nf1,{})}),(0,x.jsx)("span",{className:"name",children:w.name.length<=18?w.name:w.name.split(" ").length>1?w.name.split(" ")[0]:w.name.slice(0,15)+"..."})]}):(0,x.jsx)(x.Fragment,{children:(0,x.jsx)(m.Z,{size:"30",strokeWidth:"5",color:"#fff",backgroud:"transparent",paddingBlock:"0"})}):(0,x.jsxs)(c.rU,{"aria-label":"login user",className:"login ".concat(N||"/auth"===window.location.pathname?"disabled":""),to:"/auth",children:[(0,x.jsx)(r.HOZ,{}),(0,x.jsx)("span",{style:{marginLeft:10},children:"Login"})]}),j&&(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("div",{className:"menu-content",children:(0,x.jsxs)("div",{className:"row",children:[(0,x.jsxs)(c.rU,{to:"/user/achievements",onClick:L,"aria-label":"user button in menu",children:[(0,x.jsx)(o.JHA,{}),(0,x.jsx)("span",{style:{marginLeft:10},children:"achievements"})]}),(0,x.jsxs)(c.rU,{to:"/user/templates",onClick:L,"aria-label":"user button in menu",children:[(0,x.jsx)(g,{}),(0,x.jsx)("span",{style:{marginLeft:10},children:"todos templates"})]}),(0,x.jsxs)(c.rU,{to:"/user/edit",onClick:L,"aria-label":"user button in menu",children:[(0,x.jsx)(i.Nte,{}),(0,x.jsx)("span",{style:{marginLeft:10},children:"edit account"})]}),(0,x.jsxs)("button",{onClick:function(){C({type:h.Nv}),L()},"aria-label":"logout button in menu",children:[(0,x.jsx)(r.lE7,{}),(0,x.jsx)("span",{style:{marginLeft:10},children:"Logout"})]}),(0,x.jsxs)("button",{"aria-label":"delete account button",onClick:function(){return y(!0)},style:{color:"red"},children:[(0,x.jsx)(r.ZkW,{}),(0,x.jsx)("span",{style:{marginLeft:10},children:"Delete Account"})]})]})}),(0,x.jsx)("div",{onClick:L,style:{height:"100%",width:"100%"}})]})]})]})]})}}}]);
//# sourceMappingURL=120.3efe0bcf.chunk.js.map