{"version":3,"file":"static/js/709.92e24ef0.chunk.js","mappings":"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","sources":["components/Tasks/TaskForm/TaskForm.js"],"sourcesContent":["import React, { lazy, useState, Suspense } from \"react\";\r\n\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { addNewTask, modifyTask } from \"../../../actions/tasks\";\r\n\r\nimport { MdOutlineKeyboardArrowDown, MdOutlineKeyboardArrowUp } from 'react-icons/md';\r\n\r\nimport \"./style.css\";\r\n\r\nimport Loading from \"../../../utils/Loading\";\r\nconst MoreSetting = lazy(() => import(\"./MoreSetting\"));\r\n\r\nconst initialData = {\r\n  name: \"\",\r\n  est: 1,\r\n  notes: \"\",\r\n  project: \"\"\r\n}\r\n\r\nconst TaskForm = ({\r\n  oldData,\r\n  setOpen,\r\n  isLoading,\r\n  setIsLoading,\r\n  setMessage,\r\n  template,\r\n  setTemplateData\r\n}) => {\r\n  const dispatch = useDispatch();\r\n  const [data, setData] = useState(oldData === null ? initialData : oldData);\r\n  const [openNotes, setOpenNotes] = useState(data.notes === \"\" ? false : true);\r\n  const [openProject, setOpenProject] = useState(data.project === \"\" ? false : true);\r\n  const [moreDetails, setMoreDetails] = useState(false);\r\n  const [setting, setSetting] = useState(oldData === null && oldData?.tasks?.length > 0 ? null : oldData?.setting);\r\n\r\n  const { activites, active } = useSelector(state => state.timer);\r\n\r\n  const handleChange = (e) => {\r\n    if (e.target.name === 'est' || e.target.name === 'act') {\r\n      setData({ ...data, [e.target.name]: Number(e.target.value) });\r\n    } else {\r\n      setData({ ...data, [e.target.name]: e.target.value });\r\n    }\r\n  }\r\n\r\n  const handleSave = (e) => {\r\n    e.preventDefault();\r\n\r\n    setOpen(ot => !ot);\r\n    if (!data.name || !data.est) {\r\n      setMessage(\"Error at name or est\");\r\n    }\r\n\r\n    if (template) {\r\n      data.template = template;\r\n    }\r\n\r\n    if (template !== 'new') {\r\n      if (!oldData) {\r\n        dispatch(addNewTask(data, setIsLoading, setMessage));\r\n      } else {\r\n        dispatch(modifyTask({ ...data, setting }, data._id, setIsLoading, setMessage));\r\n      }\r\n    } else {\r\n      if (!oldData) {\r\n        setTemplateData(t => ({ ...t, tasks: t.tasks.concat([{...data, id: t.tasks.length + 1}]) }));\r\n      } else {\r\n        setTemplateData(t => ({ ...t, tasks: [...t.tasks.filter(task => task.id !== data.id), data] }))\r\n      }\r\n    }\r\n  }\r\n\r\n  return (\r\n    <>\r\n      {isLoading === data?._id && (\r\n        <div className=\"loading-container\" style={{\r\n          position: 'fixed',\r\n          top: '0',\r\n          right: '0',\r\n          background: '#ffffff73',\r\n          width: '100%',\r\n          height: '100%',\r\n          zIndex: '1000',\r\n          display: 'flex',\r\n          alignItems: 'center',\r\n          justifyContent: 'center',\r\n        }}>\r\n          <Loading\r\n            size=\"100\"\r\n            strokeWidth=\"5\"\r\n            color={activites[active].color}\r\n            backgroud=\"transperent\"\r\n          />\r\n        </div>\r\n      )}\r\n      <form className=\"task-form zoom-in\" style={{ margin: oldData !== null && \"20px 0 20px\" }} onSubmit={handleSave}>\r\n        <div className=\"form-container\">\r\n          <div className=\"form-inner-container\">\r\n            <div className=\"block\" style={{ position: \"relative\" }}>\r\n              <input\r\n                autoFocus\r\n                className={`${!data.name && 'error'} name`}\r\n                maxLength=\"50\"\r\n                required\r\n                name=\"name\"\r\n                type=\"text\"\r\n                value={data.name}\r\n                placeholder=\"What is task title?\"\r\n                onChange={handleChange}\r\n              />\r\n              <div className=\"text-counter\" style={{ color: `${50 - data?.name?.length > 10 ? \"#0effe9\" : \"#ff002f\"}` }}>\r\n                <p\r\n                  style={{ fontSize: \"16px\", fontWeight: \"500\", marginBottom: \"15px\" }}\r\n                >{50 - data?.name?.length}</p>\r\n              </div>\r\n            </div>\r\n            <div className=\"block\">\r\n              <p>\r\n                {(!data.template?.todo && data.template) ? (<></>) : (\r\n                  <>\r\n                    {data.act >= 0 && <>act / </>}\r\n                  </>\r\n                )}\r\n                est pomodoros\r\n              </p>\r\n              <div className=\"pomodoros\">\r\n                {(!data.template?.todo && data.template) ? (<></>) : (\r\n                  <>\r\n                    {data.act >= 0 && (\r\n                      <div className=\"input-number\">\r\n                        <input\r\n                          name=\"act\"\r\n                          className=\"act\"\r\n                          type=\"number\"\r\n                          min='0'\r\n                          max=\"1000\"\r\n                          defaultValue={data.act}\r\n                          disabled={data?.tasks?.length > 0}\r\n                          onChange={handleChange}\r\n                        />\r\n                      </div>\r\n                    )}\r\n                    {data.act >= 0 && (<p>/</p>)}\r\n                  </>\r\n                )}\r\n                <div className=\"input-number\">\r\n                  <input\r\n                    name=\"est\"\r\n                    required\r\n                    className={`${!data.est && 'error'}`}\r\n                    type=\"number\"\r\n                    min='1'\r\n                    max=\"1000\"\r\n                    disabled={data?.tasks?.length > 0}\r\n                    defaultValue={data.est}\r\n                    onChange={handleChange}\r\n                  />\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div className=\"block\">\r\n              {openNotes && (\r\n                <div className=\"notes\">\r\n                  <textarea name=\"notes\" type='text' maxLength=\"500\" onChange={handleChange} value={data.notes}></textarea>\r\n                  <div className=\"text-counter\" style={{ color: `${500 - data?.notes?.length > 100 ? \"#0effe9\" : \"#ff002f\"}` }}>\r\n                    <p style={{ fontSize: \"16px\", fontWeight: \"500\" }}>{500 - data?.notes?.length}</p>\r\n                  </div>\r\n                </div>\r\n              )}\r\n              {(openProject) && (\r\n                <div className=\"project\">\r\n                  <input name=\"project\" type=\"text\" onChange={handleChange} value={data.project} />\r\n                </div>\r\n              )}\r\n              <div className=\"add-buttons\">\r\n                {!openNotes && (\r\n                  <button\r\n                    aria-label=\"add notes button\"\r\n                    type=\"button\"\r\n                    onClick={() => setOpenNotes(on => !on)}\r\n                  >+ add notes</button>\r\n                )}\r\n                {(!openProject) && (\r\n                  <button\r\n                    aria-label=\"add project button\"\r\n                    type=\"button\"\r\n                    onClick={() => setOpenProject(on => !on)}\r\n                  >+ add project</button>\r\n                )}\r\n              </div>\r\n            </div>\r\n            {data?.tasks?.length > 0 && (\r\n              <>\r\n                <Suspense fallback={\r\n                  <Loading\r\n                    size=\"100\"\r\n                    strokeWidth=\"5\"\r\n                    color={activites[active].color}\r\n                    backgroud=\"transparent\"\r\n                  />\r\n                }>\r\n                  {moreDetails && (\r\n                    <MoreSetting setting={setting} setSetting={setSetting} />\r\n                  )}\r\n                </Suspense>\r\n                <div className=\"block more-details-container\">\r\n                  <button\r\n                    className=\"more-details\"\r\n                    aria-label=\"more details template\"\r\n                    type=\"button\"\r\n                    onClick={() => setMoreDetails(s => !s)}>\r\n                    {moreDetails ? \"Less Details\" : \"More Details\"}\r\n                    {moreDetails ? (\r\n                      <MdOutlineKeyboardArrowUp size=\"20\" />\r\n                    ) : (\r\n                      <MdOutlineKeyboardArrowDown size=\"20\" />\r\n                    )}\r\n                  </button>\r\n                </div>\r\n              </>\r\n            )}\r\n          </div>\r\n        </div>\r\n        <div className=\"task-footer\">\r\n          <button\r\n            aria-label=\"cancel form button\"\r\n            type=\"button\"\r\n            onClick={() => setOpen(o => !o)}\r\n          >cancel</button>\r\n          <button\r\n            aria-label=\"submit form button\"\r\n            type=\"submit\"\r\n            className=\"save\"\r\n            disabled={!data.name || !data.est}\r\n          >save</button>\r\n        </div>\r\n      </form>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default TaskForm;\r\n"],"names":["MoreSetting","lazy","initialData","name","est","notes","project","oldData","setOpen","isLoading","setIsLoading","setMessage","template","setTemplateData","dispatch","useDispatch","useState","data","setData","openNotes","setOpenNotes","openProject","setOpenProject","moreDetails","setMoreDetails","tasks","length","setting","setSetting","useSelector","state","timer","activites","active","handleChange","e","target","Number","value","_id","className","style","position","top","right","background","width","height","zIndex","display","alignItems","justifyContent","Loading","size","strokeWidth","color","backgroud","margin","onSubmit","preventDefault","ot","modifyTask","addNewTask","t","filter","task","id","concat","autoFocus","maxLength","required","type","placeholder","onChange","fontSize","fontWeight","marginBottom","todo","act","min","max","defaultValue","disabled","onClick","on","Suspense","fallback","s","o"],"sourceRoot":""}