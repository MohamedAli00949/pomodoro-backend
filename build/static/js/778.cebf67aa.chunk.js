"use strict";(self.webpackChunkpomodoro_=self.webpackChunkpomodoro_||[]).push([[778],{6778:function(e,t,n){n.r(t),n.d(t,{default:function(){return f}});var s=n(1413),o=n(885),r=n(2791),a=n(8820),i=n(6409),l=n(9434),c=n(4065),u=(n(5679),n(184)),d=(0,r.lazy)((function(){return Promise.all([n.e(425),n.e(853),n.e(174)]).then(n.bind(n,3174))})),v=(0,r.lazy)((function(){return n.e(709).then(n.bind(n,5709))}));var f=function(e){var t,n,f,k,m,g=e.templateId,h=(e.setOpenTodo,e.message,e.setMessage),p=(0,l.I0)(),x=(0,r.useState)(!1),b=(0,o.Z)(x,2),j=b[0],y=b[1],S=(0,r.useState)(""),L=(0,o.Z)(S,2),N=L[0],I=L[1],Z=(0,l.v9)((function(e){return e.templates.tempTasks[g]}))||{},w=(0,l.v9)((function(e){return e.templates.userTemplates.templates.find((function(e){return e._id===g}))})),z=(0,r.useState)(1),_=(0,o.Z)(z,2),q=_[0],E=_[1],T=(0,l.v9)((function(e){return e.timer})),C=T.active,M=T.activites;return(0,r.useEffect)((function(){var e;g&&void 0===Z.tasks&&(null===(e=w.tasks)||void 0===e?void 0:e.length)>0&&w.tasks.every((function(e){return"string"===typeof e}))&&p((0,c.rr)(g,1,h,I))}),[Z.tasks]),(0,r.useEffect)((function(){q>(null===Z||void 0===Z?void 0:Z.currentPage)&&p((0,c.rr)(g,1,h,I))}),[q]),(0,r.useEffect)((function(){var e,t=function(){var e,t,n,s=null===(e=document.querySelector(".tasks-container"))||void 0===e?void 0:e.scrollTop,o=null===(t=document.querySelector(".tasks-list"))||void 0===t?void 0:t.scrollHeight;s+(null===(n=document.querySelector(".tasks-container"))||void 0===n?void 0:n.clientHeight)>=o&&Number(localStorage.getItem("".concat(g,"-total")))>Number(localStorage.getItem("".concat(g,"-tasksLen")))&&E(Number(localStorage.getItem("".concat(g,"-currentPage")))+1)};return null===(e=document.querySelector(".tasks-container"))||void 0===e||e.addEventListener("scroll",t),function(){var e;return null===(e=document.querySelector(".tasks-container"))||void 0===e?void 0:e.removeEventListener("scroll",t)}}),[Z.tasks,Z.total]),(0,u.jsx)(u.Fragment,{children:(null===(t=w.tasks)||void 0===t?void 0:t.length)>0&&w.tasks.every((function(e){return"string"===typeof e}))&&void 0===Z.tasks?(0,u.jsx)(i.Z,{size:"100",strokeWidth:"4",backgroud:"white",color:null===(n=M[C])||void 0===n?void 0:n.color}):(0,u.jsxs)("div",{className:"tasks-container",children:[(null===(f=Z.tasks)||void 0===f?void 0:f.length)>0&&(0,u.jsxs)("div",{className:"tasks-list",children:[null===(k=Z.tasks)||void 0===k?void 0:k.map((function(e){return(0,u.jsx)(d,(0,s.Z)({isLoading:N,setIsLoading:I,setMessage:h,template:g?{_id:g,todo:!1}:"new"},e),e._id)})),"new"===N&&(0,u.jsx)(u.Fragment,{children:(0,u.jsx)("div",{className:"loading-container",children:(0,u.jsx)(i.Z,{size:"50",strokeWidth:"3",color:"#fff",backgroud:"transparent"})})})]}),"tasks"===N&&(null===(m=Z.tasks)||void 0===m?void 0:m.length)>0&&(0,u.jsx)("div",{className:"loading-container",children:(0,u.jsx)(i.Z,{size:"50",strokeWidth:"3",color:"#fff",backgroud:"transparent"})}),j?(0,u.jsx)(v,{setOpen:y,oldData:null,template:g?{_id:g,todo:!1}:"new",isLoading:N,setIsLoading:I,setMessage:h}):(0,u.jsxs)("button",{"aria-label":"add task button",className:"add-task-button",onClick:function(){return y((function(e){return!e}))},children:[(0,u.jsx)(a.Lfi,{size:"25px"}),(0,u.jsx)("p",{style:{marginLeft:10},children:"add task"})]})]})})}}}]);
//# sourceMappingURL=778.cebf67aa.chunk.js.map