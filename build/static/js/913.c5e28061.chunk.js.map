{"version":3,"file":"static/js/913.c5e28061.chunk.js","mappings":"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","sources":["components/Templates/Template/Template.js","icons/circularMenu/CircularMenu.js","utils/helper.js"],"sourcesContent":["import React, { lazy, Suspense, useState } from 'react';\r\n\r\nimport { updatedAt } from '../../../utils/helper';\r\n\r\nimport { FiEdit3 } from 'react-icons/fi';\r\nimport { MdDelete, MdAddTask } from 'react-icons/md';\r\nimport CircularMenu from \"../../../icons/circularMenu/CircularMenu\";\r\n\r\nimport Loading from '../../../utils/Loading';\r\n\r\nimport './style.css';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { addToTodo, deleteTemplate } from '../../../actions/templates';\r\n\r\nconst TodoList = lazy(() => import('../../../icons/list/TodoList'));\r\nconst DeletePopup = lazy(() => import(\"../../../utils/DeletePopup/DeletePopup\"));\r\nconst TemplateForm = lazy(() => import('../TemplateForm/TemplateForm'));\r\n\r\nfunction Template({ isLoading, setIsLoading, setMessage, setShowTodo, ...props }) {\r\n  const dispatch = useDispatch();\r\n  const [openMenu, setOpenMenu] = useState(false);\r\n  const [openDelete, setOpenDelete] = useState(false);\r\n  const [openEdit, setOpenEdit] = useState(false);\r\n  const { user } = useSelector(state => state.auth);\r\n  const { active, activites } = useSelector(state => state.timer);\r\n  const [showMore, setShowMore] = useState(false);\r\n\r\n  const hours = ((\r\n    (props.time.PERIOD * props.est) +\r\n    (props.time.SHORT * (props.est - Math.floor(props.est / props.longInterval))) +\r\n    (props.time.LONG * Math.floor(props.est / props.longInterval))\r\n  ) / 60 / 60);\r\n\r\n  const [updated, setUpdated] = useState(updatedAt(props?.updatedAt));\r\n\r\n  setInterval(() => {\r\n    setUpdated(updatedAt(props?.updatedAt));\r\n  }, 10000);\r\n\r\n  const hadnleAddToTodo = () => {\r\n    setOpenMenu(false);\r\n    dispatch(addToTodo(props._id, setIsLoading, setMessage));\r\n  }\r\n\r\n  const toggleDelete = () => {\r\n    setOpenDelete(true);\r\n    setOpenMenu(false);\r\n  }\r\n\r\n  const handleDelete = () => {\r\n    setOpenDelete(false);\r\n    dispatch(deleteTemplate(props._id, setIsLoading, setMessage));\r\n  }\r\n\r\n  const handleOpenEdit = () => {\r\n    setOpenEdit(true);\r\n    setOpenMenu(false);\r\n  }\r\n\r\n  const handleShowingTasks = () => {\r\n    setShowTodo(props._id);\r\n    setOpenMenu(false);\r\n  }\r\n\r\n  return (\r\n    <>\r\n      {openEdit && (\r\n        <Suspense fallback={\r\n          <div className=\"glass-container\">\r\n            <div className=\"glass-effect temp-form\">\r\n              <Loading\r\n                size=\"100\"\r\n                strokeWidth=\"4\"\r\n                backgroud=\"#e7e7e7\"\r\n                color={activites[active]?.color}\r\n              />\r\n            </div>\r\n          </div>\r\n        }>\r\n          <TemplateForm\r\n            oldData={props}\r\n            setOpen={setOpenEdit}\r\n            isLoading={isLoading}\r\n            setIsLoading={setIsLoading}\r\n          />\r\n        </Suspense>\r\n      )}\r\n      {openDelete && (\r\n        <Suspense fallback={\r\n          <div className=\"glass-container\">\r\n            <div className=\"glass-effect delete-popup\">\r\n              <Loading\r\n                size=\"60\"\r\n                strokeWidth=\"5\"\r\n                color=\"white\"\r\n                backgroud=\"#ccc\"\r\n              />\r\n            </div>\r\n          </div>\r\n        }>\r\n          <DeletePopup\r\n            type={<><span>{props.name}</span> template</>}\r\n            onCancel={() => setOpenDelete(false)}\r\n            onOk={handleDelete}\r\n          />\r\n        </Suspense>\r\n      )}\r\n      <div className='template'>\r\n        {isLoading === props._id && (\r\n          <div className=\"loading-container\">\r\n            <Loading\r\n              size=\"50\"\r\n              strokeWidth=\"3\"\r\n              color={\"#ccc\"}\r\n              backgroud={\"white\"}\r\n            />\r\n          </div>\r\n        )}\r\n        <div className='temp-upper'>\r\n          <p className='temp-name'>\r\n            {props.name}\r\n          </p>\r\n          <div style={{\r\n            display: \"flex\",\r\n            alignItems: \"center\",\r\n            justifyContent: \"space-between\",\r\n            flexDirection: \"row\",\r\n          }}>\r\n            <p className='temp-est'>\r\n              {props.est}\r\n            </p>\r\n            <div className=\"menu\">\r\n              <button\r\n                aria-label=\"toggle the task list menu\"\r\n                className=\"toggle-menu\"\r\n                onClick={() => setOpenMenu(om => !om)}>\r\n                <CircularMenu />\r\n              </button>\r\n              {openMenu && (\r\n                <div className=\"menu-content\">\r\n                  <div className=\"row\">\r\n                    <button aria-label='show todo' onClick={handleShowingTasks}>\r\n                      <Suspense fallback={<></>}>\r\n                        <TodoList />\r\n                      </Suspense>\r\n                      <p>Todo</p>\r\n                    </button>\r\n                    {!user ? (\r\n                      <>\r\n                        <div style={{ padding: 10 }}>\r\n                          <Loading\r\n                            size=\"30\"\r\n                            strokeWidth=\"5\"\r\n                            color={\"#ccc\"}\r\n                            backgroud=\"transparent\"\r\n                            paddingBlock='0'\r\n                          />\r\n                        </div>\r\n                      </>\r\n                    ) : (\r\n                      <>\r\n                        <button\r\n                          aria-label='add to todo list'\r\n                          onClick={hadnleAddToTodo}\r\n                        >\r\n                          <MdAddTask />\r\n                          <p>Add to todo</p>\r\n                        </button>\r\n                        {user._id === props.userId && (\r\n                          <>\r\n                            <button\r\n                              aria-label=\"edit button\"\r\n                              onClick={handleOpenEdit}\r\n                            >\r\n                              <FiEdit3 />\r\n                              <p>Edit</p>\r\n                            </button>\r\n                            <button\r\n                              aria-label=\"delet button\"\r\n                              onClick={toggleDelete}\r\n                              style={{ color: 'red' }}\r\n                              className=\"delete\"\r\n                            >\r\n                              <MdDelete />\r\n                              <p>Delete</p>\r\n                            </button>\r\n                          </>\r\n                        )}\r\n                      </>\r\n                    )}\r\n                  </div>\r\n                </div>\r\n              )}\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div className='temp-desc'>\r\n          <p>\r\n            {(props.desc.length > 200 && !showMore) ? `${props.desc.slice(0, 196)}...` : props.desc}\r\n            {(props.desc.length > 200 && !showMore) ?\r\n              <button \r\n              aria-label=\"see mroe\" \r\n              className='show-more' \r\n              onClick={() => setShowMore(true)}>see more</button> :\r\n              <>\r\n                {showMore && (\r\n                  <button aria-label=\"see mroe\" className='show-more' onClick={() => setShowMore(false)}>see less</button>\r\n                )}\r\n              </>\r\n            }\r\n          </p>\r\n        </div>\r\n        <div className='temp-lower'>\r\n          <span>{hours.toFixed(1)} Hours</span>\r\n          <span>{updated}</span>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Template;\r\n","import React from 'react';\r\n\r\nconst CircularMenu = () => {\r\n  const ds = [\"M12 13C12.5523 13 13 12.5523 13 12C13 11.4477 12.5523 11 12 11C11.4477 11 11 11.4477 11 12C11 12.5523 11.4477 13 12 13Z\", \"M12 6C12.5523 6 13 5.55228 13 5C13 4.44772 12.5523 4 12 4C11.4477 4 11 4.44772 11 5C11 5.55228 11.4477 6 12 6Z\", \"M12 20C12.5523 20 13 19.5523 13 19C13 18.4477 12.5523 18 12 18C11.4477 18 11 18.4477 11 19C11 19.5523 11.4477 20 12 20Z\"]\r\n  return (\r\n    <svg version=\"1.1\" stroke=\"currentColor\" fill=\"currentColor\" strokeWidth=\"0\" height=\"1em\" width=\"1em\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\r\n      <g id=\"SVGRepo_bgCarrier\" strokeWidth=\"0\" />\r\n      <g id=\"SVGRepo_tracerCarrier\" strokeLinecap=\"round\" strokeLinejoin=\"round\" />\r\n      <g id=\"SVGRepo_iconCarrier\">\r\n        {ds.map((d, index) => (\r\n          <path\r\n            key={index}\r\n            d={d}\r\n            stroke=\"currentColor\"\r\n            strokeWidth=\"2\"\r\n            strokeLinecap=\"round\"\r\n            strokeLinejoin=\"round\"\r\n          />\r\n        ))}\r\n      </g>\r\n    </svg>\r\n  );\r\n};\r\n\r\nexport default CircularMenu;\r\n","export const formatTime = (t) => {\r\n  const sec = t % 60;\r\n  const min = Math.floor(t / 60);\r\n  // console.log(min, sec);\r\n  return `${min >= 10 ? min : '0' + min}:${sec >= 10 ? sec : '0' + sec}`\r\n};\r\n\r\nexport const updatedAt = (t) => {\r\n  const now = new Date(Date.now());\r\n  const date = new Date(t);\r\n  const options = { year: 'numeric', month: 'short', day: 'numeric' };\r\n\r\n  if (now.getFullYear() === date.getFullYear()) {\r\n    if (now.getMonth() === date.getMonth()) {\r\n      if (now.getDate() === date.getDate()) {\r\n        if (now.getHours() === date.getHours()) {\r\n          if (now.getMinutes() === date.getMinutes()) {\r\n            return `Updated now`\r\n          } else {\r\n            return `Updated ${now.getMinutes() - date.getMinutes()} Min ago`;\r\n          }\r\n        } else {\r\n          return `Updated ${now.getHours() - date.getHours()} Hours ago`;\r\n        }\r\n      } else {\r\n        return `Updated ${now.getDate() - date.getDate()} Days ago`;\r\n      }\r\n    } else {\r\n      return `Updated ${date.toLocaleDateString('en', options).split(',')[0]} ago`;\r\n    }\r\n  } else {\r\n    return `Updated ${date.toLocaleDateString('en', options)} ago`;\r\n  }\r\n}\r\n\r\nexport const pushNotification = (message) => {\r\n  // eslint-disable-next-line\r\n  if (typeof window?.Notification !== undefined) {\r\n    new window.Notification(message, {\r\n      icon: 'favicon.ico',\r\n      tag: \"mohamed ali\",\r\n      requireInteraction: true,\r\n      renotify: true\r\n    });\r\n  }\r\n};\r\n"],"names":["TodoList","lazy","DeletePopup","TemplateForm","isLoading","setIsLoading","setMessage","setShowTodo","props","dispatch","useDispatch","useState","openMenu","setOpenMenu","openDelete","setOpenDelete","openEdit","setOpenEdit","user","useSelector","state","auth","timer","active","activites","showMore","setShowMore","hours","time","PERIOD","est","SHORT","Math","floor","longInterval","LONG","updatedAt","updated","setUpdated","setInterval","Suspense","fallback","className","Loading","size","strokeWidth","backgroud","color","oldData","setOpen","type","name","onCancel","onOk","deleteTemplate","_id","style","display","alignItems","justifyContent","flexDirection","onClick","om","CircularMenu","addToTodo","userId","padding","paddingBlock","desc","length","slice","toFixed","version","stroke","fill","height","width","viewBox","xmlns","id","strokeLinecap","strokeLinejoin","map","d","index","formatTime","t","sec","min","now","Date","date","options","year","month","day","getFullYear","getMonth","getDate","getHours","getMinutes","toLocaleDateString","split","pushNotification","message","undefined","window","Notification","icon","tag","requireInteraction","renotify"],"sourceRoot":""}