"use strict";(self.webpackChunkpomodoro_=self.webpackChunkpomodoro_||[]).push([[174],{3174:function(e,t,n){n.r(t),n.d(t,{default:function(){return v}});var s=n(1413),a=n(885),i=n(4925),l=n(2791),r=n(9434),o=n(4053),c=n(3853),d=n(6856),u=n(828),m=n(7425),h=n(5230),k=n(6409),x=n(184),p=["isLoading","setIsLoading","setMessage","setActiveTemplate","setTemplateData","activeTemplate"],j=(0,l.lazy)((function(){return n.e(964).then(n.bind(n,9964))})),g=(0,l.lazy)((function(){return n.e(709).then(n.bind(n,5709))})),v=function(e){var t,n,v,f,C=e.isLoading,b=e.setIsLoading,_=e.setMessage,N=e.setActiveTemplate,w=e.setTemplateData,y=(e.activeTemplate,(0,i.Z)(e,p)),Z=(0,r.I0)(),L=(0,r.v9)((function(e){return e.tasks})).activeId,S=(0,r.v9)((function(e){return e.timer})).setting,T=(0,l.useState)(!1),F=(0,a.Z)(T,2),I=F[0],D=F[1],M=(0,l.useState)(!1),W=(0,a.Z)(M,2),z=W[0],R=W[1],q=(0,l.useState)(!1),A=(0,a.Z)(q,2),U=A[0],E=A[1];(0,l.useEffect)((function(){if(y.notes&&document.querySelector(".task#task-".concat(y._id," .task-notes"))){document.querySelector(".task#task-".concat(y._id," .task-notes")).innerHTML="<p>"+y.notes.replaceAll(/([\w+]+\:\/\/)?([\w\d-]+\.)*[\w-]+[\.\:]\w+([\/\?\=\&\#\.]?[\w-]+)*\/?/gm,(function(e){return'<a target="_blank" href="'.concat(e,'">').concat(e,"</a>")}))+"</p>"}}),[y]);return I?(0,x.jsx)(l.Suspense,{fallback:(0,x.jsx)(k.Z,{size:"40",strokeWidth:"3",color:"rgb(197 197 197)"}),children:(0,x.jsx)(g,{oldData:y,setOpen:D,isLoading:C,setIsLoading:b,setMessage:_,template:null!==y&&void 0!==y&&y.template?y.template:null,setTemplateData:w})}):(0,x.jsxs)(x.Fragment,{children:[z&&(0,x.jsx)(j,{type:(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("span",{children:y.name})," ",(null===(t=y.tasks)||void 0===t?void 0:t.length)>0?"template":"task"]}),onCancel:function(){return R(!1)},onOk:function(){R(!1),null!==y&&void 0!==y&&y._id?Z((0,h._5)(y._id,(null===y||void 0===y?void 0:y.template)||null,b,_)):w((function(e){return(0,s.Z)((0,s.Z)({},e),{},{tasks:e.tasks.filter((function(e){return e.id!==y.id}))})}))}}),(0,x.jsxs)("div",{className:"task ".concat(L===y._id?"active":""),id:"task-".concat(y._id),style:{"--progress":"".concat(y.act/y.est*100,"%")},onDoubleClick:function(){var e;if(0===(null===(e=y.tasks)||void 0===e?void 0:e.length)&&(!y.check&&S.autoStartNextTask||!S.autoStartNextTask&&y.act!==y.est))if(L===y._id)Z({type:h._U,data:{}});else if(L!==y._id){var t,n;Z({type:h._U,data:(0,s.Z)((0,s.Z)({},y),{},{_id:null!==(t=y.template)&&void 0!==t&&t._id?(null===(n=y.template)||void 0===n?void 0:n._id)+","+y._id:y._id})})}},children:[C===y._id&&(0,x.jsx)("div",{className:"loading-container",children:(0,x.jsx)(k.Z,{size:"40",strokeWidth:"3",color:"rgb(197 197 197)"})}),(0,x.jsxs)("div",{style:{display:"flex",alignItems:"center",width:"100%",justifyContent:"space-between"},children:[(0,x.jsxs)("div",{className:"task-inner",children:[(0,x.jsx)("div",{className:"icon-container",children:y.check?(0,x.jsx)(x.Fragment,{children:null!==y.template?(0,x.jsx)(m.vUq,{className:"task-uncheck"}):(0,x.jsx)(u.iLT,{className:"task-uncheck"})}):(0,x.jsx)(x.Fragment,{children:null!==y.template?(0,x.jsx)(m.KR6,{className:"task-check"}):(0,x.jsx)(u.kEs,{className:"task-check"})})}),(0,x.jsx)("p",{style:{textDecoration:y.check&&"line-through"},children:y.name})]}),(0,x.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",flexDirection:"row"},children:[(0,x.jsxs)("p",{className:"act-est",children:[null!==(n=y.template)&&void 0!==n&&n.todo||!y.template?(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("span",{children:y.act}),(0,x.jsx)("span",{style:{fontWeight:"normal",fontSize:"18px",marginInline:"4px"},children:"/"})]}):(0,x.jsx)(x.Fragment,{}),(0,x.jsx)("span",{children:y.est})]}),(0,x.jsxs)("div",{className:"menu",children:[(0,x.jsx)("button",{"aria-label":"toggle the task list menu",className:"toggle-menu",onClick:function(){return E((function(e){return!e}))},children:(0,x.jsx)(o.Z,{})}),U&&(0,x.jsx)("div",{className:"menu-content",children:(0,x.jsxs)("div",{className:"row",children:[((null===(v=y.template)||void 0===v?void 0:v.todo)&&y.template||!y.template&&0===y.tasks.length)&&(0,x.jsx)(x.Fragment,{children:!(null!==S&&void 0!==S&&S.autoStartNextTask)&&(0,x.jsx)("button",{"aria-label":"check button",onClick:function(){Z((0,h.QB)(y._id,b,_)),E(!1)},children:y.check?(0,x.jsx)(x.Fragment,{children:null!==y.template?(0,x.jsx)(m.KR6,{}):(0,x.jsx)(u.kEs,{})}):(0,x.jsx)(x.Fragment,{children:null!==y.template?(0,x.jsx)(m.vUq,{}):(0,x.jsx)(u.iLT,{})})})}),(0,x.jsx)("button",{"aria-label":"edit button",onClick:function(){D(!0),E(!1)},children:(0,x.jsx)(c.Nte,{})}),(0,x.jsx)("button",{"aria-label":"delet button",onClick:function(){R(!0),E(!1)},style:{color:"red"},className:"delete",children:(0,x.jsx)(d.ZkW,{})})]})})]}),(null===(f=y.tasks)||void 0===f?void 0:f.length)>0&&(0,x.jsx)("button",{"aria-label":"toggle the tasks list",className:"show-tasks",onClick:function(){return N(y)},children:(0,x.jsx)(d.AeI,{})})]})]}),""!==y.notes&&(0,x.jsx)("div",{className:"task-notes"})]})]})}},4053:function(e,t,n){n(2791);var s=n(184);t.Z=function(){return(0,s.jsxs)("svg",{version:"1.1",stroke:"currentColor",fill:"currentColor",strokeWidth:"0",height:"1em",width:"1em",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:[(0,s.jsx)("g",{id:"SVGRepo_bgCarrier",strokeWidth:"0"}),(0,s.jsx)("g",{id:"SVGRepo_tracerCarrier",strokeLinecap:"round",strokeLinejoin:"round"}),(0,s.jsx)("g",{id:"SVGRepo_iconCarrier",children:["M12 13C12.5523 13 13 12.5523 13 12C13 11.4477 12.5523 11 12 11C11.4477 11 11 11.4477 11 12C11 12.5523 11.4477 13 12 13Z","M12 6C12.5523 6 13 5.55228 13 5C13 4.44772 12.5523 4 12 4C11.4477 4 11 4.44772 11 5C11 5.55228 11.4477 6 12 6Z","M12 20C12.5523 20 13 19.5523 13 19C13 18.4477 12.5523 18 12 18C11.4477 18 11 18.4477 11 19C11 19.5523 11.4477 20 12 20Z"].map((function(e,t){return(0,s.jsx)("path",{d:e,stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},t)}))})]})}}}]);
//# sourceMappingURL=174.7808b077.chunk.js.map