{"version":3,"file":"static/js/325.2fba8f28.chunk.js","mappings":"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","sources":["components/Tasks/TaskForm/TaskForm.js"],"sourcesContent":["import React, { useState } from \"react\";\r\n\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { addNewTask, modifyTask } from \"../../../actions/tasks\";\r\nimport Loading from \"../../../utils/Loading\";\r\n\r\nconst initialData = {\r\n  name: \"\",\r\n  est: 1,\r\n  notes: \"\",\r\n  project: \"\"\r\n}\r\n\r\nconst TaskForm = ({ oldData, setOpen, isLoading, setIsLoading, setMessage }) => {\r\n  const dispatch = useDispatch();\r\n  const [data, setData] = useState(oldData === null ? initialData : oldData);\r\n  const [openNotes, setOpenNotes] = useState(data.notes === \"\" ? false : true);\r\n  const [openProject, setOpenProject] = useState(data.project === \"\" ? false : true);\r\n\r\n  const { activites, active } = useSelector(state => state.timer);\r\n\r\n  const handleChange = (e) => {\r\n    if (e.target.name === 'est' || e.target.name === 'act') {\r\n      setData({ ...data, [e.target.name]: Number(e.target.value) });\r\n    } else {\r\n      setData({ ...data, [e.target.name]: e.target.value });\r\n    }\r\n  }\r\n\r\n  const handleSave = (e) => {\r\n    e.preventDefault();\r\n\r\n    setOpen(ot => !ot);\r\n    if (!data.name || !data.est) {\r\n      setMessage(\"Error at name or est\");\r\n    }\r\n\r\n    if (!oldData) {\r\n      dispatch(addNewTask(data, setIsLoading, setMessage));\r\n    } else {\r\n      dispatch(modifyTask(data, data._id, setIsLoading, setMessage));\r\n    }\r\n  }\r\n\r\n  return (\r\n    <>\r\n      {isLoading === data?._id && (\r\n        <div className=\"loading-container\" style={{\r\n          position: 'fixed',\r\n          top: '0',\r\n          right: '0',\r\n          background: '#ffffff73',\r\n          width: '100%',\r\n          height: '100%',\r\n          zIndex: '1000',\r\n          display: 'flex',\r\n          alignItems: 'center',\r\n          justifyContent: 'center',\r\n        }}>\r\n          <Loading\r\n            size=\"100\"\r\n            strokeWidth=\"5\"\r\n            color={activites[active].color}\r\n            backgroud=\"transperent\"\r\n          />\r\n        </div>\r\n      )}\r\n      <form className=\"task-form zoom-in\" style={{ margin: oldData !== null && \"20px 0 20px\" }} onSubmit={handleSave}>\r\n        <div className=\"form-container\">\r\n          <div className=\"form-inner-container\">\r\n            <div className=\"block\" style={{ position: \"relative\" }}>\r\n              <input\r\n                autoFocus\r\n                className={`${!data.name && 'error'} name`}\r\n                maxLength=\"50\"\r\n                required\r\n                name=\"name\"\r\n                type=\"text\"\r\n                value={data.name}\r\n                placeholder=\"What are you working on?\"\r\n                onChange={handleChange}\r\n              />\r\n              <div className=\"text-counter\" style={{ color: `${50 - data.name.length > 10 ? \"#0effe9\" : \"#ff002f\"}` }}>\r\n                <p\r\n                  style={{ fontSize: \"16px\", fontWeight: \"500\", marginBottom: \"15px\" }}\r\n                >{50 - data.name.length}</p>\r\n              </div>\r\n            </div>\r\n            <div className=\"block\">\r\n              <p>\r\n                {data.act >= 0 && <>act / </>}\r\n                est pomodoros\r\n              </p>\r\n              <div className=\"pomodoros\">\r\n                {data.act >= 0 && (\r\n                  <div className=\"input-number\">\r\n                    <input\r\n                      name=\"act\"\r\n                      className=\"act\"\r\n                      type=\"number\"\r\n                      min='0'\r\n                      max=\"1000\"\r\n                      defaultValue={data.act}\r\n                      onChange={handleChange}\r\n                    />\r\n                  </div>\r\n                )}\r\n                {data.act >= 0 && (<>/</>)}\r\n                <div className=\"input-number\">\r\n                  <input\r\n                    name=\"est\"\r\n                    required\r\n                    className={`${!data.est && 'error'}`}\r\n                    type=\"number\"\r\n                    min='1'\r\n                    max=\"1000\"\r\n                    defaultValue={data.est}\r\n                    onChange={handleChange}\r\n                  />\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div className=\"block\">\r\n              {openNotes && (\r\n                <div className=\"notes\">\r\n                  <textarea name=\"notes\" type='text' maxLength=\"500\" onChange={handleChange} value={data.notes}></textarea>\r\n                  <div className=\"text-counter\" style={{ color: `${500 - data.notes.length > 100 ? \"#0effe9\" : \"#ff002f\"}` }}>\r\n                    <p style={{ fontSize: \"16px\", fontWeight: \"500\" }}>{500 - data.notes.length}</p>\r\n                  </div>\r\n                </div>\r\n              )}\r\n              {(openProject) && (\r\n                <div className=\"project\">\r\n                  <input name=\"project\" type=\"text\" onChange={handleChange} value={data.project} />\r\n                </div>\r\n              )}\r\n              <div className=\"add-buttons\">\r\n                {!openNotes && (\r\n                  <button\r\n                    aria-label=\"add notes button\"\r\n                    type=\"button\"\r\n                    onClick={() => setOpenNotes(on => !on)}\r\n                  >+ add notes</button>\r\n                )}\r\n                {(!openProject) && (\r\n                  <button\r\n                    aria-label=\"add project button\"\r\n                    type=\"button\"\r\n                    onClick={() => setOpenProject(on => !on)}\r\n                  >+ add project</button>\r\n                )}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div className=\"task-footer\">\r\n          <button\r\n            aria-label=\"cancel form button\"\r\n            type=\"button\"\r\n            onClick={() => setOpen(o => !o)}\r\n          >cancel</button>\r\n          <button\r\n            aria-label=\"submit form button\"\r\n            type=\"submit\"\r\n            className=\"save\"\r\n            disabled={!data.name || !data.est}\r\n          >save</button>\r\n        </div>\r\n      </form>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default TaskForm;\r\n"],"names":["initialData","name","est","notes","project","oldData","setOpen","isLoading","setIsLoading","setMessage","dispatch","useDispatch","useState","data","setData","openNotes","setOpenNotes","openProject","setOpenProject","useSelector","state","timer","activites","active","handleChange","e","target","Number","value","_id","className","style","position","top","right","background","width","height","zIndex","display","alignItems","justifyContent","size","strokeWidth","color","backgroud","margin","onSubmit","preventDefault","ot","modifyTask","addNewTask","autoFocus","maxLength","required","type","placeholder","onChange","length","fontSize","fontWeight","marginBottom","act","min","max","defaultValue","onClick","on","o","disabled"],"sourceRoot":""}