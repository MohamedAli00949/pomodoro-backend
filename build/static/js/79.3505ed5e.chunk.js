"use strict";(self.webpackChunkpomodoro_=self.webpackChunkpomodoro_||[]).push([[79],{79:function(t,e,n){n.r(e);var s=n(1413),o=n(885),i=n(2791),a=n(8820),l=n(6409),r=n(9434),d=n(4065),u=(n(6980),n(184)),c=(0,i.lazy)((function(){return Promise.all([n.e(425),n.e(853),n.e(174)]).then(n.bind(n,3174))})),v=(0,i.lazy)((function(){return n.e(709).then(n.bind(n,5709))}));e.default=function(t){var e,n,k,f,g,m=t.data,h=t.setData,p=t.message,_=t.setMessage,x=(0,r.I0)(),j=(0,i.useState)(!1),b=(0,o.Z)(j,2),y=b[0],S=b[1],L=(0,i.useState)(""),N=(0,o.Z)(L,2),Z=N[0],w=N[1],z=(0,r.v9)((function(t){return t.templates.tempTasks[null===m||void 0===m?void 0:m._id]}))||{},I=(0,i.useState)(1),q=(0,o.Z)(I,2),E=q[0],D=q[1],T=(0,r.v9)((function(t){return t.timer})),C=T.active,F=T.activites;return(0,i.useEffect)((function(){var t;null!==m&&void 0!==m&&m._id&&void 0===z.tasks&&(null===(t=m.tasks)||void 0===t?void 0:t.length)>0&&m.tasks.every((function(t){return"string"===typeof t}))?x((0,d.rr)(null===m||void 0===m?void 0:m._id,1,_,w)):z.tasks&&h((0,s.Z)((0,s.Z)({},m),{},{tasks:z.tasks})),console.log(m)}),[z.tasks]),(0,i.useEffect)((function(){E>(null===z||void 0===z?void 0:z.currentPage)&&x((0,d.rr)(null===m||void 0===m?void 0:m._id,1,_,w))}),[E]),(0,i.useEffect)((function(){var t,e=function(){var t,e,n,s=null===(t=document.querySelector(".tasks-container"))||void 0===t?void 0:t.scrollTop,o=null===(e=document.querySelector(".tasks-list"))||void 0===e?void 0:e.scrollHeight;s+(null===(n=document.querySelector(".tasks-container"))||void 0===n?void 0:n.clientHeight)>=o&&Number(localStorage.getItem("".concat(m._id,"-total")))>Number(localStorage.getItem("".concat(m._id,"-tasksLen")))&&D(Number(localStorage.getItem("".concat(m._id,"-currentPage")))+1)};return null===(t=document.querySelector(".tasks-container"))||void 0===t||t.addEventListener("scroll",e),function(){var t;return null===(t=document.querySelector(".tasks-container"))||void 0===t?void 0:t.removeEventListener("scroll",e)}}),[z.tasks,z.total]),(null===(e=m.tasks)||void 0===e?void 0:e.length)>0&&m.tasks.every((function(t){return"string"===typeof t}))&&void 0===z.tasks?(console.log(p),(0,u.jsx)(u.Fragment,{children:(0,u.jsx)(l.Z,{size:"100",strokeWidth:"4",backgroud:"white",color:null===(g=F[C])||void 0===g?void 0:g.color})})):(0,u.jsx)(u.Fragment,{children:(0,u.jsx)("div",{className:"step-data",children:(0,u.jsxs)("div",{className:"tasks-container",children:[(null===(n=m.tasks)||void 0===n?void 0:n.length)>0&&(0,u.jsxs)("div",{className:"tasks-list",children:[null===(k=m.tasks)||void 0===k?void 0:k.map((function(t){return(0,u.jsx)(c,(0,s.Z)({isLoading:Z,setIsLoading:w,setMessage:_,template:null!==m&&void 0!==m&&m._id?{_id:null===m||void 0===m?void 0:m._id,todo:!1}:"new",setTemplateData:null!==m&&void 0!==m&&m._id?null:h},t),t._id)})),"new"===Z&&(0,u.jsx)(u.Fragment,{children:(0,u.jsx)("div",{className:"loading-container",children:(0,u.jsx)(l.Z,{size:"50",strokeWidth:"3",color:"#fff",backgroud:"transparent"})})})]}),"tasks"===Z&&(null===(f=z.tasks)||void 0===f?void 0:f.length)>0&&(0,u.jsx)("div",{className:"loading-container",children:(0,u.jsx)(l.Z,{size:"50",strokeWidth:"3",color:"#fff",backgroud:"transparent"})}),y?(0,u.jsx)(v,{setOpen:S,oldData:null,template:null!==m&&void 0!==m&&m._id?{_id:null===m||void 0===m?void 0:m._id,todo:!1}:"new",setTemplateData:null!==m&&void 0!==m&&m._id?null:h,isLoading:Z,setIsLoading:w,setMessage:_}):(0,u.jsxs)("button",{"aria-label":"add task button",className:"add-task-button",onClick:function(){return S((function(t){return!t}))},children:[(0,u.jsx)(a.Lfi,{size:"25px"}),(0,u.jsx)("p",{style:{marginLeft:10},children:"add task"})]})]})})})}},6980:function(){}}]);
//# sourceMappingURL=79.3505ed5e.chunk.js.map