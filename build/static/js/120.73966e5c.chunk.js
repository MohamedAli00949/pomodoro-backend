"use strict";(self.webpackChunkpomodoro_=self.webpackChunkpomodoro_||[]).push([[120,964],{120:function(e,n,t){t.r(n),t.d(n,{default:function(){return j}});var a=t(885),s=t(2791),l=t(8820),o=t(3853),i=t(6053),r=t(6856),c=t(1087),u=t(9434),d=t(456),h=t(374),m=t(6409),f=t(9964),g=t(184),x=(0,s.lazy)((function(){return t.e(45).then(t.bind(t,3045))})),j=function(e){var n=e.setMessage,t=(0,s.useState)(!1),j=(0,a.Z)(t,2),v=j[0],b=j[1],p=(0,s.useState)(!1),k=(0,a.Z)(p,2),y=k[0],N=k[1],C=(0,u.v9)((function(e){return e.timer})).started,w=(0,u.v9)((function(e){return e.auth})).user,S=(0,u.I0)();(0,s.useEffect)((function(){if(localStorage.getItem("token")&&void 0===w){S((0,h.is)(n));var e=(1e3*(0,d.Z)(localStorage.getItem("token")).exp-(new Date).getTime())/36e5;localStorage.getItem("token")&&e<24&&S((0,h.g$)(n))}}),[]),(0,s.useEffect)((function(){if(void 0!==w){var e=(0,d.Z)(localStorage.getItem("token"));1e3*e.exp<(new Date).getTime()&&(S({type:h.Nv}),console.log(1e3*e.ext-(new Date).getTime()))}}),[w]);var L=(0,s.useCallback)((function(){document.body.style.overflow=v?"auto":"hidden",b((function(e){return!e}))}),[v]);return(0,g.jsxs)(g.Fragment,{children:[y&&(0,g.jsx)(f.default,{type:"your account",onCancel:function(){return N(!1)},onOk:function(){N(!1),S((0,h.h8)(n))}}),(0,g.jsxs)("nav",{className:"nav-bar",children:[(0,g.jsx)(c.rU,{to:"/",children:(0,g.jsx)("h1",{children:"Entagk"})}),(0,g.jsxs)("div",{style:{position:"relative"},children:[localStorage.getItem("token")?w?(0,g.jsxs)("button",{"aria-label":"user button",className:"user",onClick:function(){return b((function(e){return!e}))},style:{boxShadow:v&&"inset 0 0 5px #6f6f6f"},children:[(0,g.jsx)("div",{className:"user-logo ".concat((null===w||void 0===w?void 0:w.avatar)&&"img"),children:null!==w&&void 0!==w&&w.avatar?(0,g.jsx)("img",{src:w.avatar,alt:"avatar",width:"",height:""}):(0,g.jsx)(l.nf1,{})}),(0,g.jsx)("span",{className:"name",children:w.name.length<=18?w.name:w.name.split(" ").length>1?w.name.split(" ")[0]:w.name.slice(0,15)+"..."})]}):(0,g.jsx)(g.Fragment,{children:(0,g.jsx)(m.Z,{size:"30",strokeWidth:"5",color:"#fff",backgroud:"transparent",paddingBlock:"0"})}):(0,g.jsxs)(c.rU,{"aria-label":"login user",className:"login ".concat(C||"/auth"===window.location.pathname?"disabled":""),to:"/auth",children:[(0,g.jsx)(r.HOZ,{}),(0,g.jsx)("span",{style:{marginLeft:10},children:"Login"})]}),v&&(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)("div",{className:"menu-content",children:(0,g.jsxs)("div",{className:"row",children:[(0,g.jsxs)(c.rU,{to:"/user/achievements",onClick:L,"aria-label":"user button in menu",children:[(0,g.jsx)(i.JHA,{}),(0,g.jsx)("span",{style:{marginLeft:10},children:"achievements"})]}),(0,g.jsxs)(c.rU,{to:"/templates/you",onClick:L,"aria-label":"user button in menu",children:[(0,g.jsx)(x,{}),(0,g.jsx)("span",{style:{marginLeft:10},children:"todos templates"})]}),(0,g.jsxs)(c.rU,{to:"/user/edit",onClick:L,"aria-label":"user button in menu",children:[(0,g.jsx)(o.Nte,{}),(0,g.jsx)("span",{style:{marginLeft:10},children:"edit account"})]}),(0,g.jsxs)("button",{onClick:function(){S({type:h.Nv}),L()},"aria-label":"logout button in menu",children:[(0,g.jsx)(r.lE7,{}),(0,g.jsx)("span",{style:{marginLeft:10},children:"Logout"})]}),(0,g.jsxs)("button",{"aria-label":"delete account button",onClick:function(){N(!0),L()},style:{color:"red"},children:[(0,g.jsx)(r.ZkW,{}),(0,g.jsx)("span",{style:{marginLeft:10},children:"Delete Account"})]})]})}),(0,g.jsx)("div",{onClick:L,style:{height:"100%",width:"100%"}})]})]})]})]})}},9964:function(e,n,t){t.r(n),t.d(n,{default:function(){return o}});var a=t(885),s=t(2791),l=t(184);var o=function(e){var n=e.type,t=e.onOk,o=e.onCancel,i=(0,s.useState)(!1),r=(0,a.Z)(i,2),c=r[0],u=r[1];return(0,s.useEffect)((function(){document.querySelectorAll(".glass-container").length>1&&u(!0)}),[]),(0,l.jsx)("div",{className:"glass-container",style:{background:c&&"none"},children:(0,l.jsxs)("div",{className:"glass-effect delete-popup",children:[(0,l.jsxs)("p",{children:["Are you sure to ",n,"?"]}),(0,l.jsxs)("div",{className:"buttons",children:[(0,l.jsx)("button",{"aria-label":"ok deleteing account",onClick:t,className:"ok",children:"Delete"}),(0,l.jsx)("button",{"aria-label":"cancel deleteing account",onClick:o,className:"cancel",children:"cancel"})]})]})})}}}]);
//# sourceMappingURL=120.73966e5c.chunk.js.map