"use strict";(self.webpackChunkpomodoro_=self.webpackChunkpomodoro_||[]).push([[709],{5709:function(e,t,n){n.r(t),n.d(t,{default:function(){return v}});var a=n(2982),s=n(4942),l=n(1413),i=n(885),o=n(2791),r=n(9434),c=n(5230),d=n(6856),u=n(6409),m=n(184),x=(0,o.lazy)((function(){return n.e(261).then(n.bind(n,2261))})),h={name:"",est:1,notes:"",project:""},v=function(e){var t,n,v,f,p,j,g,b,k,N,Z=e.oldData,y=e.setOpen,C=e.isLoading,S=e.setIsLoading,z=e.setMessage,F=e.template,D=e.setTemplateData,L=(0,r.I0)(),W=(0,o.useState)(null===Z?h:Z),w=(0,i.Z)(W,2),I=w[0],_=w[1],q=(0,o.useState)(""!==I.notes),M=(0,i.Z)(q,2),V=M[0],B=M[1],E=(0,o.useState)(""!==I.project),H=(0,i.Z)(E,2),J=H[0],O=H[1],P=(0,o.useState)(!1),T=(0,i.Z)(P,2),A=T[0],G=T[1],K=(0,o.useState)(null===Z&&(null===Z||void 0===Z||null===(t=Z.tasks)||void 0===t?void 0:t.length)>0?null:null===Z||void 0===Z?void 0:Z.setting),Q=(0,i.Z)(K,2),R=Q[0],U=Q[1],X=(0,r.v9)((function(e){return e.timer})),Y=X.activites,$=X.active,ee=function(e){"est"===e.target.name||"act"===e.target.name?_((0,l.Z)((0,l.Z)({},I),{},(0,s.Z)({},e.target.name,Number(e.target.value)))):_((0,l.Z)((0,l.Z)({},I),{},(0,s.Z)({},e.target.name,e.target.value)))};return(0,m.jsxs)(m.Fragment,{children:[C===(null===I||void 0===I?void 0:I._id)&&(0,m.jsx)("div",{className:"loading-container",style:{position:"fixed",top:"0",right:"0",background:"#ffffff73",width:"100%",height:"100%",zIndex:"1000",display:"flex",alignItems:"center",justifyContent:"center"},children:(0,m.jsx)(u.Z,{size:"100",strokeWidth:"5",color:Y[$].color,backgroud:"transperent"})}),(0,m.jsxs)("form",{className:"task-form zoom-in",style:{margin:null!==Z&&"20px 0 20px"},onSubmit:function(e){e.preventDefault(),y((function(e){return!e})),I.name&&I.est||z("Error at name or est"),F&&(I.template=F),"new"!==F?L(Z?(0,c.HZ)((0,l.Z)((0,l.Z)({},I),{},{setting:R}),I._id,S,z):(0,c.Pb)(I,S,z)):D(Z?function(e){return(0,l.Z)((0,l.Z)({},e),{},{tasks:[].concat((0,a.Z)(e.tasks.filter((function(e){return e.id!==I.id}))),[I])})}:function(e){return(0,l.Z)((0,l.Z)({},e),{},{tasks:e.tasks.concat([(0,l.Z)((0,l.Z)({},I),{},{id:e.tasks.length+1})])})})},children:[(0,m.jsx)("div",{className:"form-container",children:(0,m.jsxs)("div",{className:"form-inner-container",children:[(0,m.jsxs)("div",{className:"block",style:{position:"relative"},children:[(0,m.jsx)("input",{autoFocus:!0,className:"".concat(!I.name&&"error"," name"),maxLength:"50",required:!0,name:"name",type:"text",value:I.name,placeholder:"What is task title?",onChange:ee}),(0,m.jsx)("div",{className:"text-counter",style:{color:"".concat(50-(null===I||void 0===I||null===(n=I.name)||void 0===n?void 0:n.length)>10?"#0effe9":"#ff002f")},children:(0,m.jsx)("p",{style:{fontSize:"16px",fontWeight:"500",marginBottom:"15px"},children:50-(null===I||void 0===I||null===(v=I.name)||void 0===v?void 0:v.length)})})]}),(0,m.jsxs)("div",{className:"block",children:[(0,m.jsxs)("p",{children:[null!==(f=I.template)&&void 0!==f&&f.todo||!I.template?(0,m.jsx)(m.Fragment,{children:I.act>=0&&(0,m.jsx)(m.Fragment,{children:"act / "})}):(0,m.jsx)(m.Fragment,{}),"est pomodoros"]}),(0,m.jsxs)("div",{className:"pomodoros",children:[null!==(p=I.template)&&void 0!==p&&p.todo||!I.template?(0,m.jsxs)(m.Fragment,{children:[I.act>=0&&(0,m.jsx)("div",{className:"input-number",children:(0,m.jsx)("input",{name:"act",className:"act",type:"number",min:"0",max:"1000",defaultValue:I.act,disabled:(null===I||void 0===I||null===(j=I.tasks)||void 0===j?void 0:j.length)>0,onChange:ee})}),I.act>=0&&(0,m.jsx)("p",{children:"/"})]}):(0,m.jsx)(m.Fragment,{}),(0,m.jsx)("div",{className:"input-number",children:(0,m.jsx)("input",{name:"est",required:!0,className:"".concat(!I.est&&"error"),type:"number",min:"1",max:"1000",disabled:(null===I||void 0===I||null===(g=I.tasks)||void 0===g?void 0:g.length)>0,defaultValue:I.est,onChange:ee})})]})]}),(0,m.jsxs)("div",{className:"block",children:[V&&(0,m.jsxs)("div",{className:"notes",children:[(0,m.jsx)("textarea",{name:"notes",type:"text",maxLength:"500",onChange:ee,value:I.notes}),(0,m.jsx)("div",{className:"text-counter",style:{color:"".concat(500-(null===I||void 0===I||null===(b=I.notes)||void 0===b?void 0:b.length)>100?"#0effe9":"#ff002f")},children:(0,m.jsx)("p",{style:{fontSize:"16px",fontWeight:"500"},children:500-(null===I||void 0===I||null===(k=I.notes)||void 0===k?void 0:k.length)})})]}),J&&(0,m.jsx)("div",{className:"project",children:(0,m.jsx)("input",{name:"project",type:"text",onChange:ee,value:I.project})}),(0,m.jsxs)("div",{className:"add-buttons",children:[!V&&(0,m.jsx)("button",{"aria-label":"add notes button",type:"button",onClick:function(){return B((function(e){return!e}))},children:"+ add notes"}),!J&&(0,m.jsx)("button",{"aria-label":"add project button",type:"button",onClick:function(){return O((function(e){return!e}))},children:"+ add project"})]})]}),(null===I||void 0===I||null===(N=I.tasks)||void 0===N?void 0:N.length)>0&&(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(o.Suspense,{fallback:(0,m.jsx)(u.Z,{size:"100",strokeWidth:"5",color:Y[$].color,backgroud:"transparent"}),children:A&&(0,m.jsx)(x,{setting:R,setSetting:U})}),(0,m.jsx)("div",{className:"block more-details-container",children:(0,m.jsxs)("button",{className:"more-details","aria-label":"more details template",type:"button",onClick:function(){return G((function(e){return!e}))},children:[A?"Less Details":"More Details",A?(0,m.jsx)(d.DJ5,{size:"20"}):(0,m.jsx)(d.x3N,{size:"20"})]})})]})]})}),(0,m.jsxs)("div",{className:"task-footer",children:[(0,m.jsx)("button",{"aria-label":"cancel form button",type:"button",onClick:function(){return y((function(e){return!e}))},children:"cancel"}),(0,m.jsx)("button",{"aria-label":"submit form button",type:"submit",className:"save",disabled:!I.name||!I.est,children:"save"})]})]})]})}}}]);
//# sourceMappingURL=709.92e24ef0.chunk.js.map